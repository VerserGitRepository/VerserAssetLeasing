
@model  VerserAssetleasingServiceInterface.Models.JBHiFiCostmodelServiceRequestDetailsModel
@{
    ViewBag.Title = "Opportunity Details";
}

    <div>
        <div class="modal-header" style="background-color:lightgray;width:820px">
            <h5 class="modal-title text-center">REQUEST DETAILS</h5>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <br>
        <div style="align-content:flex-start;align-self:flex-start;align-items:flex-start;padding-bottom:15px;padding-left:15px;padding-top:10px;width:80%">
            <div class="container" @*style="font-size:14px;color:grey;border-color:gray"*@>

                <div class="form-horizontal">
                    <div class="form-group">

                        <div class="row col-md-12  table-bordered" style="width:800px;margin-left:0px;height:150px;font-size:16px;">
                            <div class="col-md-6">
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                <div class="form-group required">
                                    @Html.Label("Customer Name", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.CustomerName)
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.Label("Date Started", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.startDate)
                                    </div>
                                </div>
                                <div class="form-group required">
                                    @Html.Label(" Salesforce Opportunity Number", htmlAttributes: new { @class = "control-label col-md-6" })

                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.salesforceOpportunityName)
                                    </div>
                                </div>
                                <div class="form-group required">
                                    @Html.Label(" Site Address", htmlAttributes: new { @class = "control-label col-md-6" })

                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.siteAddress)
                                    </div>
                                </div>
                                <div class="form-group required">
                                    @Html.Label("Verser Branch", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.verserBranch)
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6" style="border-color:gray">
                                <div class="form-group required">
                                    @Html.Label("Customer Contact Name", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.customerContactName)
                                    </div>
                                </div>
                                <div class="form-group required">
                                    @Html.Label("Sales Manager", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.salesManager)
                                    </div>
                                </div>
                                <div class="form-group required">
                                    @Html.Label("Project Manager", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.projectManager)
                                    </div>
                                </div>
                                <div class="form-group required">
                                    @Html.Label("Opp Name", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.opportunityName)
                                    </div>
                                </div>
                                <div class="form-group required">
                                    @Html.Label("Salesforce Opp Name", htmlAttributes: new { @class = "control-label col-md-6" })
                                    <div class="col-md-6">
                                        @Html.DisplayFor(m => m.CostModelQuoteRequestModel.salesforceOpportunityName)
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br />

                    </div>
                </div>
            </div>
            <div class=" row col-md-12 table-bordered" style="width:800px;height:270px;margin-left:1px;padding:1px">
                <table class="table pull-left table-bordered table-responsive" id="tblCustomers" style="font-size:smaller;">
                    <thead style="background-color:#FFB605; color:white;height:0.2px;padding-top:0px;font-size:11px;padding-bottom:0px;">
                        <tr>
                            <th>SERVICES</th>
                            <th>QUANTITY</th>
                            <th>TOTAL PRICE</th>
                            <th style="width:5px"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.ServiceItemsLists)
                        {
                        <tr>
                            <td>
                                <span style="width:2px">@item.ServiceDescription</span>
                                @Html.DropDownListFor(model => model.CostModelQuoteRequestModel.CostModelServiceId, Model.CostModelQuoteRequestModel.CostModelServices, "Service", new { @class = "form-control ", id = "ddlservice", @multiple = "multiple",@display="none"})
                            </td>
                            <td>@item.Quantity </td>
                            <td>@item.TotalPrice</td>
                            <td width="5%">
                                <a class="Edit btn btn-warning a-btn-slide-text" href="javascript:;">
                                    <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                    <span><strong>Edit</strong></span>
                                </a>

                                <a class="Update btn btn-success a-btn-slide-text" href="javascript:;" style="display:none" id="Update">
                                    <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                    <span><strong>Update</strong></span>
                                </a>
                                <a class="Delete btn btn-danger a-btn-slide-text" href="javascript:;" style="display:none">
                                    <span class="glyphicon glyphicon-minus-sign" aria-hidden="true"></span>
                                    <span><strong>Delete</strong></span>
                                </a>

                                <a class="Cancel btn btn-danger a-btn-slide-text" href="javascript:;" style="display:none">
                                    <span class="glyphicon glyphicon-remove"></span>
                                    <span><strong>Cancel</strong></span>
                                </a>

                                @*<a class="Update" href="javascript:;" style="display:none" id="Update">Update</a>
        <a class="Cancel" href="javascript:;" style="display:none">Cancel</a>*@
                                @*<a class="Delete" href="javascript:;">Delete</a>*@
                            </td>
                        </tr>
                        }
                    </tbody>
                   
                    <tfoot>
                        <tr >
                            <td>Total Excl GST </td>
                            <td> @Html.DisplayFor(m => m.CostModelQuoteRequestModel.totaL_Excl_GST)</td>
                        </tr>
                    </tfoot>
                    <tfoot>
                        <tr>
                            <td>GST</td>
                            <td>@Html.DisplayFor(m => m.CostModelQuoteRequestModel.gsT_10)</td>
                        </tr>
                    </tfoot>
                    <tfoot>
                        <tr>
                            <td>Total Incl GS</td>
                            <td> @Html.DisplayFor(m => m.CostModelQuoteRequestModel.totaL_Incl_GST)</td>
                        </tr>
                    </tfoot>

                </table>
            </div>
            </div>

        </div>
        @section Scripts {

            @Scripts.Render("~/bundles/jqueryval")

            <script type="text/javascript">

                $('#tblCustomers').dataTable({
                    responsive: true,
                    stateSave: true
                });
            </script>
        }
<script>
    $("body").on("click", "#tblCustomers .Edit", function () {
        // debugger;
        var row = $(this).closest("tr");
        $("td", row).each(function () {
            //if ($(this).find("input").length > 0 || $(this).find("#txtComments").length > 0) {
                $(this).find("select").show();
            //    $(this).find("#txtComments").show();
                $(this).find("span").hide();
            //    $(this).toggleClass('selected');

            //}
        });
        row.find(".Update").show();
        row.find(".Cancel").show();
        row.find(".Delete").show();

        //var origVal = row.find("#hdnddlLidt").val();


        //if (origVal == "1") {
        //    row.find("#txtActualQuantity").attr('readonly', true);

        //}
        //else {
        //    row.find("#txtActualQuantity").attr('readonly', false);
        //}

        $(this).hide();
    });
</script>
        <style>
            .modal-dialog {
                width: 850px;
                margin: 30px auto;
                margin-bottom: 10px;
                font-size: 14px;
            }

            .table-hover > tbody > tr:hover > td,
            .table-hover > tbody > tr:hover > th {
                background-color: lightgray;
            }


            .selected {
                color: black;
                background-color: lightgray;
            }

            .btn {
                font-size: 10px;
            }

            table tr.active {
                background: red;
            }

            a.btn {
                -webkit-transform: scale(0.9);
                -moz-transform: scale(0.6);
                -o-transform: scale(0.6);
                -webkit-transition-duration: 0.5s;
                -moz-transition-duration: 0.5s;
                -o-transition-duration: 0.5s;
            }
        </style>
